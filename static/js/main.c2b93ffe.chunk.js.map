{"version":3,"sources":["aerial.png","App.js","index.js"],"names":["App","useState","golfDays","setGolfDays","useEffect","xhr","XMLHttpRequest","open","send","onload","status","console","log","el","document","createElement","innerHTML","response","buildListOfDayBookings","getDayNumber","day","tags","getElementsByTagName","Object","keys","map","t","getAttribute","title","divs","querySelectorAll","d","innerText","split","trim","url","entry","dayNumber","getDayLink","g","Date","getDay","getTodaysDayNumber","style","color","href","comps","sort","a","b","index","ListGroup","Item","Container","className","Jumbotron","Row","Image","src","aerial","height","marginTop","textAlign","Button","variant","onClick","window","location","ReactDOM","render","getElementById"],"mappings":"uPAAe,MAA0B,mCCsH1BA,G,MA1GH,WAAO,IAAD,EAEgBC,mBAAS,IAFzB,mBAETC,EAFS,KAECC,EAFD,KAIhBC,qBAAU,WACR,IACIC,EAAM,IAAIC,eACdD,EAAIE,KAAK,MAAO,qGAChBF,EAAIG,OACJH,EAAII,OAAS,WACX,GAAkB,KAAdJ,EAAIK,OACNC,QAAQC,IAAI,aACP,CACL,IAAIC,EAAKC,SAASC,cAAc,QAChCF,EAAGG,UAAYX,EAAIY,SACnBC,EAAuBL,OAG1B,IAEH,IAMMM,EAAe,SAACC,GAClB,MAAU,UAAPA,EAAwB,EACjB,WAAPA,EAAyB,EAClB,aAAPA,EAA2B,EACpB,YAAPA,EAA0B,EACnB,UAAPA,EAAwB,EACjB,YAAPA,EAA0B,EACnB,UAAPA,EAAwB,OAA3B,GAEEF,EAAyB,SAACL,GAC9B,IAAMQ,EAAOR,EAAGS,qBAAqB,KACrCC,OAAOC,KAAKH,GAAMI,KAAI,SAACC,GACrB,GAAqC,uCAAjCL,EAAKK,GAAGC,aAAa,SAAmD,CAC1E,IAAIC,EACAR,EACJN,SAASC,cAAc,OAAOC,UAAYK,EAAKK,GAAGV,UAClD,IAAMa,EAAOR,EAAKK,GAAGI,iBAAiB,OACtCP,OAAOC,KAAKK,GAAMJ,KAAI,SAACM,GACgB,4BAAjCF,EAAKE,GAAGJ,aAAa,WACvBC,EAAQC,EAAKE,GAAGC,UAChBZ,EAAMQ,EAAMK,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGC,WAG5C,IAAMC,EAAMd,EAAKK,GAAGC,aAAa,QACjC,GAAIP,GAAOQ,GAASO,EAAK,CACvB,IAAMC,EAAQ,CACZhB,IAAKA,EACLiB,UAAWlB,EAAaC,GACxBQ,MAAOA,EACPO,IAAKA,GAEPhC,GAAY,SAAAD,GAAQ,4BAAQA,GAAR,CAAkBkC,aAMxCE,EAAa,SAACC,GAClB,OA5CyB,WACzB,IAAIR,EAAI,IAAIS,KACZ,OAAgB,GAAZT,EAAEU,OAAoB,EACnBV,EAAEU,SAyCLC,IAAwBH,EAAEF,UAE1B,mBAAGM,MAAO,CAACC,MAAO,WAAYC,KAAON,EAAEJ,IAAvC,SAA+CI,EAAEnB,MAIjD,mBAAGuB,MAAO,CAACC,MAAO,WAAYC,KAAON,EAAEJ,IAAvC,SAA+CI,EAAEnB,OAMjD0B,EADc5C,EAAS6C,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEX,UAAUY,EAAEZ,aAChCZ,KAAI,SAACc,EAAGW,GAChC,OACE,cAACC,EAAA,EAAUC,KAAX,UACId,EAAWC,IADOW,MAM1B,OACE,cAACG,EAAA,EAAD,CAAWC,UAAU,MAArB,SACE,eAACC,EAAA,EAAD,WACE,oBAAID,UAAU,SAAd,qCACA,cAACD,EAAA,EAAD,UACE,cAACG,EAAA,EAAD,CAAKF,UAAU,4BAAf,SACE,cAACG,EAAA,EAAD,CAAOC,IAAMC,EAASC,OAAQ,UAGlC,cAACT,EAAA,EAAD,CAAWR,MAAO,CAACkB,UAAW,GAAIC,UAAW,UAA7C,SACIhB,IAEJ,cAACO,EAAA,EAAD,CAAWV,MAAO,CAAEkB,UAAW,IAA/B,SACE,cAACL,EAAA,EAAD,CAAKF,UAAU,4BAAf,SACE,cAACS,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAAS,kBAAMC,OAAOC,SAAStB,KAAO,yCAAhE,mDC1GZuB,IAASC,OAAO,cAAC,EAAD,IAASvD,SAASwD,eAAe,W","file":"static/js/main.c2b93ffe.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/aerial.b271ac38.png\";","import React, { useState, useEffect } from 'react';\n\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport aerial from './aerial.png';\n\nimport './App.css';\n\nconst App = () => {\n\n  const [golfDays, setGolfDays] = useState([]);\n\n  useEffect(() => {\n    const bookingDaysUrl = \"https://www.eventbrite.co.uk/o/westonbirt-leisure-16812056330\";\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/\" + bookingDaysUrl);\n    xhr.send();\n    xhr.onload = function() {\n      if (xhr.status != 200) {\n        console.log('Error');\n      } else { \n        var el = document.createElement('html');\n        el.innerHTML = xhr.response;\n        buildListOfDayBookings(el);\n      }\n    };\n  }, []);\n\n  const getTodaysDayNumber = () => {\n    var d = new Date();    \n    if (d.getDay == 0) return 7; // hack for ordering etc...\n    return d.getDay();\n  }\n\n  const getDayNumber = (day) => {\n      if(day == \"Monday\") return 1;\n      if(day == \"Tuesday\") return 2;\n      if(day == \"Wednesday\") return 3;\n      if(day == \"Thursday\") return 4;\n      if(day == \"Friday\") return 5;\n      if(day == \"Saturday\") return 6;\n      if(day == \"Sunday\") return 7;\n  }\n  const buildListOfDayBookings = (el) => {\n    const tags = el.getElementsByTagName(\"a\");\n    Object.keys(tags).map((t) => {\n      if (tags[t].getAttribute('class') == 'eds-event-card-content__action-link') {\n        let title;\n        let day;\n        document.createElement('div').innerHTML = tags[t].innerHTML;\n        const divs = tags[t].querySelectorAll('div');\n        Object.keys(divs).map((d) => {\n          if (divs[d].getAttribute('class') == 'eds-is-hidden-accessible') {\n            title = divs[d].innerText;\n            day = title.split('-')[1].split('(')[0].trim();\n          }\n        });\n        const url = tags[t].getAttribute('href');\n        if (day && title && url) {\n          const entry = {\n            day: day,\n            dayNumber: getDayNumber(day),\n            title: title,\n            url: url\n          };              \n          setGolfDays(golfDays => [...golfDays, entry]);              \n        }\n      }\n    });\n  };\n\n  const getDayLink = (g) => {\n    if (getTodaysDayNumber() == g.dayNumber) {\n      return (\n        <a style={{color: '#f88c00'}} href={ g.url }>{ g.day }</a>\n      );\n    } else {\n      return (\n        <a style={{color: '#202020'}} href={ g.url }>{ g.day }</a>\n      );\n    }\n  }\n  \n  const orderedDays = golfDays.sort((a, b) => a.dayNumber-b.dayNumber);\n  const comps = orderedDays.map((g, index) => {\n    return (\n      <ListGroup.Item key={ index }>\n        { getDayLink(g) }\n      </ListGroup.Item>\n    );\n  })\n\n  return (\n    <Container className=\"p-3\">\n      <Jumbotron>\n        <h3 className=\"header\">Westonbirt Golf Booking</h3>       \n        <Container>         \n          <Row className=\"justify-content-md-center\">\n            <Image src={ aerial } height={200}/>\n          </Row>\n        </Container>\n        <ListGroup style={{marginTop: 20, textAlign: 'center'}}>\n          { comps }          \n        </ListGroup>\n        <Container style={{ marginTop: 20 }}>   \n          <Row className=\"justify-content-md-center\">\n            <Button variant=\"success\" onClick={() => window.location.href = 'https://www.westonbirtgolfclub.co.uk/' }>Visit Westonbirt Golf Club</Button>\n          </Row>\n        </Container>\n      </Jumbotron>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}